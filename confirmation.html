<!DOCTYPE html>
<html>
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VMBJ77FBQG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VMBJ77FBQG');
</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-M6NJ4M2P');</script>
    <!-- End Google Tag Manager -->

    <script>
        dataLayer = [];
      </script>
      

       <!---Impact UTT-->
   <script type="text/javascript"> (function(a,b,c,d,e,f,g){e['ire_o']=c;e[c]=e[c]||function(){(e[c].a=e[c].a||[]).push(arguments)};f=d.createElement(b);g=d.getElementsByTagName(b)[0];f.async=1;f.src=a;g.parentNode.insertBefore(f,g);})('https://utt.impactcdn.com/A6017967-9b32-44cf-a4c7-1b76f8f0bfce65535.js','script','ire',document,window); </script>
  
   <title>Order Confirmation - Shop Shoes</title>
   <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
   <script src="js/jquery.min.js"></script>
   <link href="css/style.css" rel="stylesheet" type="text/css" media="all" />

   <title>Thank You!</title>
   <script>
       // Capture the irclickid from URL parameters
       function getQueryParam(param) {
           let urlParams = new URLSearchParams(window.location.search);
           return urlParams.get(param);
       }

       let irclickid = getQueryParam("irclickid");
       if (irclickid) {
           // Store in a cookie or send to GTM
           document.cookie = "irclickid=" + irclickid + "; path=/";
           window.dataLayer = window.dataLayer || [];
           window.dataLayer.push({
               'event': 'conversion',
               'irclickid': irclickid
           });
       }
   </script>
</head>
<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M6NJ4M2P"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

 <!--Impact Identify Function-->
 <script type="text/javascript"> ire('identify', {customerid: '' /*INSERT CUSTOMER ID*/, customeremail: '' /*INSERT SHA1 HASHED CUSTOMER EMAIL*/}); </script>

   <h1>Thank You for Your Purchase!</h1>
   <p>Your transaction was successful.</p>

   <!-- Order Details -->
   <h3>Order Details:</h3>
   <table>
       <tr>
           <td><strong>Order ID:</strong></td>
           <td id="order-id">Loading...</td> 
       </tr>
       <tr>
           <td><strong>Customer Name:</strong></td>
           <td id="customer-name"> John Doe</td>
       </tr>
       <tr>
           <td><strong>Email:</strong></td>
           <td id="customer-email">johndoe@example.com</td>
       </tr>
       <tr>
           <td><strong>Total Amount:</strong></td>
           <td id="order-total">$250.00</td>
       </tr>
   </table>

   <script>
       function generateOrderId() {
           return "ORD-" + Date.now() + "-" + Math.floor(Math.random() * 1000);
       }

       let orderId = generateOrderId();

       window.dataLayer = window.dataLayer || [];
       window.dataLayer.push({
         'event': 'orderGenerated',
         'transaction_id': orderId
  });

       document.addEventListener("DOMContentLoaded", function() {
           document.getElementById("order-id").innerText = orderId;
       });
   </script>

   <!-- Script for conversion tracking -->
   <script type="text/javascript">
       alert("This worked! Impact payload received. Order ID: " + orderId);

       ire('trackConversion', 54289, {
           orderId: orderId,
           customerEmail: "B87A2BE9B52070D84D0F5A373FFB49C3440B2295",
           customerStatus: "New",
           currencyCode: "USD",
           items: [
               {
                   subTotal: 28.00,
                   category: "Shoes",
                   sku: "sku-392386",
                   quantity: 2,
                   name: "Long Shoes"
               }
           ]
       },
       {
           verifySiteDefinitionMatch: true
       });
   </script>
  
</body>
</html>

<body>
      
       <div class="checkout-buttons">
           <a href="index.html" class="button">Continue Shopping</a>
           <a href="store.html" class="button">Go to Store</a>
       </div>
   </div>


</body>
</html>